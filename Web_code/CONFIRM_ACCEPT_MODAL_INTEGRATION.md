# Ø¯Ù…Ø¬ ConfirmAcceptModal ÙÙŠ ReservationsClient

## ğŸ¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©

ØªÙ… Ø¯Ù…Ø¬ `ConfirmAcceptModal` ÙÙŠ `ReservationsClient` Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "Accept Cash on Arrival".

## ğŸ”§ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©

### 1. **Ø¥Ø¶Ø§ÙØ© Import**
- âœ… **Ø¥Ø¶Ø§ÙØ© ConfirmAcceptModal** import
- âœ… **Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…ÙƒÙˆÙ†** Ù…Ù† Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­

### 2. **Ø¥Ø¶Ø§ÙØ© State Management**
- âœ… **Ø¥Ø¶Ø§ÙØ© `isAcceptModalOpen`** state Ù„Ù„ØªØ­ÙƒÙ… ÙÙŠ ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„
- âœ… **Ø¥Ø¶Ø§ÙØ© `selectedReservationData`** state Ù„ØªØ®Ø²ÙŠÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø¬Ø² Ø§Ù„Ù…Ø­Ø¯Ø¯
- âœ… **Ø¥Ø¶Ø§ÙØ© `selectedReservationId`** state Ù„ØªØ®Ø²ÙŠÙ† Ù…Ø¹Ø±Ù Ø§Ù„Ø­Ø¬Ø² Ø§Ù„Ù…Ø­Ø¯Ø¯

### 3. **ØªØ­Ø¯ÙŠØ« onAcceptCash Function**
- âœ… **ØªØºÙŠÙŠØ± Ø§Ù„Ø³Ù„ÙˆÙƒ** Ù…Ù† Ù‚Ø¨ÙˆÙ„ Ù…Ø¨Ø§Ø´Ø± Ø¥Ù„Ù‰ ÙØªØ­ Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„ØªØ£ÙƒÙŠØ¯
- âœ… **Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø¬Ø²** Ù…Ù† `reservations` array
- âœ… **ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®** Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `toLocaleDateString()`
- âœ… **Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©** Ù„Ù„Ù…ÙˆØ¯ÙŠÙ„

### 4. **Ø¥Ø¶Ø§ÙØ© handleAcceptConfirm Function**
- âœ… **Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ¸ÙŠÙØ© Ø¬Ø¯ÙŠØ¯Ø©** Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù‚Ø¨ÙˆÙ„
- âœ… **Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ API** `/api/reservations/accept-cash`
- âœ… **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©** (loading, success, error)
- âœ… **Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„** Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­
- âœ… **Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª** Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡

### 5. **Ø¥Ø¶Ø§ÙØ© ConfirmAcceptModal Component**
- âœ… **Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„** ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…ÙƒÙˆÙ†
- âœ… **ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©** (isOpen, onClose, onConfirm, isLoading, reservationData)
- âœ… **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©** Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­

## ğŸ¨ Ø§Ù„ØªØ¯ÙÙ‚ Ø§Ù„Ø¬Ø¯ÙŠØ¯

### **Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«:**
```
1. Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "Accept Cash on Arrival"
2. Ù‚Ø¨ÙˆÙ„ Ù…Ø¨Ø§Ø´Ø± Ø¨Ø¯ÙˆÙ† ØªØ£ÙƒÙŠØ¯
3. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©
```

### **Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«:**
```
1. Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "Accept Cash on Arrival"
2. ÙØªØ­ Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ù…Ø¹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø¬Ø²
3. Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¶ÙŠÙ ÙˆØ§Ù„Ø¹Ù‚Ø§Ø± ÙˆØ§Ù„ØªÙˆØ§Ø±ÙŠØ® ÙˆØ§Ù„Ø³Ø¹Ø±
4. Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "Accept Reservation" Ù„Ù„ØªØ£ÙƒÙŠØ¯
5. Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ API
6. Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©
```

## ğŸ“‹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø© ÙÙŠ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„

### **ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø¬Ø²:**
- âœ… **Ø§Ø³Ù… Ø§Ù„Ø¶ÙŠÙ** - Ù…Ù† `reservation.user?.name`
- âœ… **Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±** - Ù…Ù† `reservation.listing?.title`
- âœ… **Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ** - Ù…Ù† `reservation.totalPrice`
- âœ… **ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©** - Ù…Ù† `reservation.startDate`
- âœ… **ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ©** - Ù…Ù† `reservation.endDate`

### **Ø§Ù„ØªÙ†Ø³ÙŠÙ‚:**
- âœ… **ØªÙˆØ§Ø±ÙŠØ® Ù…Ø­Ø³Ù†Ø©** - Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `toLocaleDateString()`
- âœ… **Ù‚ÙŠÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠØ©** - ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø¨ÙŠØ§Ù†Ø§Øª
- âœ… **Ø¹Ø±Ø¶ ÙˆØ§Ø¶Ø­** - Ù…Ø¹ Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª ÙˆØ£Ù„ÙˆØ§Ù† Ù…Ù…ÙŠØ²Ø©

## ğŸ”§ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø©

### 1. **`app/reservations/ReservationsClient.tsx`**
- âœ… **Ø¥Ø¶Ø§ÙØ© import** Ù„Ù€ ConfirmAcceptModal
- âœ… **Ø¥Ø¶Ø§ÙØ© state management** Ù„Ù„Ù…ÙˆØ¯ÙŠÙ„
- âœ… **ØªØ­Ø¯ÙŠØ« onAcceptCash** function
- âœ… **Ø¥Ø¶Ø§ÙØ© handleAcceptConfirm** function
- âœ… **Ø¥Ø¶Ø§ÙØ© ConfirmAcceptModal** component

## âœ… Ø§Ù„Ù…Ø²Ø§ÙŠØ§ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

### 1. **ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­Ø³Ù†Ø©**
- âœ… **ØªØ£ÙƒÙŠØ¯ ÙˆØ§Ø¶Ø­** Ù‚Ø¨Ù„ Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù†Ù‚Ø¯ÙŠ
- âœ… **Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ ÙƒØ§Ù…Ù„Ø©** Ù„Ù„Ø­Ø¬Ø²
- âœ… **ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡** Ù…Ù† Ø§Ù„Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¹Ø±Ø¶ÙŠ
- âœ… **ÙˆØ§Ø¬Ù‡Ø© ÙˆØ§Ø¶Ø­Ø©** Ù…Ø¹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¶ÙŠÙ ÙˆØ§Ù„Ø¹Ù‚Ø§Ø±

### 2. **Ø£Ù…Ø§Ù† Ù…Ø­Ø³Ù†**
- âœ… **ØªØ£ÙƒÙŠØ¯ Ù…Ø²Ø¯ÙˆØ¬** Ù‚Ø¨Ù„ Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¯ÙØ¹
- âœ… **Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„** Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø­Ø¬Ø²
- âœ… **ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡** Ø§Ù„Ø¨Ø´Ø±ÙŠØ©

### 3. **ÙˆØ¶ÙˆØ­ Ø£ÙØ¶Ù„**
- âœ… **ØªÙØ§ØµÙŠÙ„ Ø´Ø§Ù…Ù„Ø©** Ù„Ù„Ø¶ÙŠÙ ÙˆØ§Ù„Ø¹Ù‚Ø§Ø±
- âœ… **ØªÙˆØ§Ø±ÙŠØ® ÙˆØ§Ø¶Ø­Ø©** Ù„Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
- âœ… **Ø³Ø¹Ø± ÙˆØ§Ø¶Ø­** Ù„Ù„Ø¯ÙØ¹ Ø§Ù„Ù†Ù‚Ø¯ÙŠ
- âœ… **ØªÙ†Ø¨ÙŠÙ‡ Ù…Ù‡Ù…** Ù„Ø¬Ù…Ø¹ Ø§Ù„Ù†Ù‚ÙˆØ¯

## ğŸ¯ Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### **Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "Accept Cash on Arrival":**

```typescript
// 1. Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø¬Ø²
const reservation = reservations.find(r => r.id === id);

// 2. Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…ÙˆØ¯ÙŠÙ„
setSelectedReservationData({
  guestName: reservation.user?.name || "Guest",
  listingTitle: reservation.listing?.title || "Property",
  totalPrice: reservation.totalPrice,
  startDate: new Date(reservation.startDate).toLocaleDateString(),
  endDate: new Date(reservation.endDate).toLocaleDateString(),
});

// 3. ÙØªØ­ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„
setIsAcceptModalOpen(true);
```

### **Ø¹Ù†Ø¯ Ø§Ù„ØªØ£ÙƒÙŠØ¯:**
```typescript
// 1. Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ API
axios.post("/api/reservations/accept-cash", { 
  reservationId: selectedReservationId 
});

// 2. Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©
setIsAcceptModalOpen(false);
setSelectedReservationData(null);
router.refresh();
```

## ğŸ“± Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©

### **Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Confirm Accept            â”‚
â”‚                                     â”‚
â”‚  Guest: John Doe                    â”‚
â”‚  Property: Beach Villa              â”‚
â”‚  Dates: 1/15/2024 - 1/20/2024      â”‚
â”‚  Price: $500 (Cash Payment)         â”‚
â”‚                                     â”‚
â”‚  âš ï¸ Important Note: Collect cash   â”‚
â”‚                                     â”‚
â”‚  [Cancel] [Accept Reservation]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**ØªÙ… Ø¯Ù…Ø¬ ConfirmAcceptModal Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰âœ…**
